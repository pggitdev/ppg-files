import React, { useState } from 'react';
import { Wallet, CreditCard, Building2, TrendingUp, TrendingDown, FileText, PieChart, Activity, ChevronRight } from 'lucide-react';

const FinancialStatement = () => {
  const [activeTab, setActiveTab] = useState('balance'); // 'balance', 'income', 'notes'

  // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Header ‡∏Å‡∏•‡∏≤‡∏á
  const headerData = {
    orgName: "‡∏ô‡∏¥‡∏ï‡∏¥‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏´‡∏°‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô‡∏à‡∏±‡∏î‡∏™‡∏£‡∏£ ‡∏®‡∏∏‡∏†‡∏≤‡∏•‡∏±‡∏¢ ‡∏û‡∏£‡∏µ‡∏°‡πà‡∏≤ ‡∏ß‡∏¥‡∏•‡∏•‡πà‡∏≤ ‡πÄ‡∏û‡∏ä‡∏£‡πÄ‡∏Å‡∏©‡∏°-‡∏û‡∏∏‡∏ó‡∏ò‡∏°‡∏ì‡∏ë‡∏•‡∏™‡∏≤‡∏¢ 1",
    date: "‡∏ì ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 31 ‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏° 2567",
    unit: "‡∏´‡∏ô‡πà‡∏ß‡∏¢ : ‡∏ö‡∏≤‡∏ó"
  };

  // 1. ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏á‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏ê‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô (Balance Sheet) - ‡∏´‡∏ô‡πâ‡∏≤ 18
  const balanceSheetData = {
    assets: {
      title: "‡∏™‡∏¥‡∏ô‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå",
      items: [
        { name: "‡∏™‡∏¥‡∏ô‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô", isHeader: true },
        { name: "‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡πà‡∏≤‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î", note: "4", year2567: "1,115,435.31", year2566: "1,091,121.30" },
        { name: "‡∏•‡∏π‡∏Å‡∏´‡∏ô‡∏µ‡πâ‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å", note: "5", year2567: "-", year2566: "16,117.00" },
        { name: "‡∏£‡∏ß‡∏°‡∏™‡∏¥‡∏ô‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô", isTotal: true, year2567: "1,115,435.31", year2566: "1,107,238.30" },
        { name: "‡∏£‡∏ß‡∏°‡∏™‡∏¥‡∏ô‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå", isGrandTotal: true, year2567: "1,115,435.31", year2566: "1,107,238.30" },
      ]
    },
    liabilities: {
      title: "‡∏´‡∏ô‡∏µ‡πâ‡∏™‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å",
      items: [
        { name: "‡∏´‡∏ô‡∏µ‡πâ‡∏™‡∏¥‡∏ô‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô", isHeader: true },
        { name: "‡πÄ‡∏ä‡πá‡∏Ñ‡∏Ñ‡πâ‡∏≤‡∏á‡∏à‡πà‡∏≤‡∏¢", note: "", year2567: "85,554.56", year2566: "83,200.00" },
        { name: "‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢‡∏Ñ‡πâ‡∏≤‡∏á‡∏à‡πà‡∏≤‡∏¢", note: "6", year2567: "21,163.70", year2566: "18,919.30" },
        { name: "‡∏£‡∏ß‡∏°‡∏´‡∏ô‡∏µ‡πâ‡∏™‡∏¥‡∏ô‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô", isTotal: true, year2567: "106,718.26", year2566: "102,119.30" },
        { name: "‡∏´‡∏ô‡∏µ‡πâ‡∏™‡∏¥‡∏ô‡πÑ‡∏°‡πà‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô", isHeader: true },
        { name: "‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≥‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏ï‡∏¥‡∏°", note: "", year2567: "-", year2566: "20,000.00" },
        { name: "‡∏£‡∏ß‡∏°‡∏´‡∏ô‡∏µ‡πâ‡∏™‡∏¥‡∏ô‡πÑ‡∏°‡πà‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô", isTotal: true, year2567: "-", year2566: "20,000.00" },
        { name: "‡∏£‡∏ß‡∏°‡∏´‡∏ô‡∏µ‡πâ‡∏™‡∏¥‡∏ô", isGrandTotal: true, year2567: "106,718.26", year2566: "122,119.30" },
      ]
    },
    equity: {
      title: "‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å",
      items: [
        { name: "‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡∏≠‡∏á‡∏ó‡∏∏‡∏ô‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏π‡∏õ‡πÇ‡∏†‡∏Ñ", note: "", year2567: "682,391.00", year2566: "682,391.00" },
        { name: "‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤(‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤)‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢‡∏™‡∏∞‡∏™‡∏°", note: "", year2567: "326,326.05", year2566: "302,728.00" },
        { name: "‡∏£‡∏ß‡∏°‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å", isTotal: true, year2567: "1,008,717.05", year2566: "985,119.00" },
        { name: "‡∏£‡∏ß‡∏°‡∏´‡∏ô‡∏µ‡πâ‡∏™‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å", isGrandTotal: true, year2567: "1,115,435.31", year2566: "1,107,238.30" },
      ]
    }
  };

  // 2. ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏á‡∏ö‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢ (Income Statement) - ‡∏´‡∏ô‡πâ‡∏≤ 19
  const incomeStatementData = {
    revenue: {
      title: "‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö (Revenues)",
      items: [
        { name: "‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö - ‡∏Ñ‡πà‡∏≤‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞", note: "", year2567: "1,746,855.60", year2566: "1,746,855.60" },
        { name: "‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö - ‡∏Ñ‡∏µ‡∏¢‡πå‡∏Å‡∏≤‡∏£‡πå‡∏î", note: "", year2567: "-", year2566: "4,000.00" },
        { name: "‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö - ‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢", note: "", year2567: "100,000.00", year2566: "-" },
        { name: "‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏£‡∏±‡∏ö", note: "", year2567: "9,859.45", year2566: "2,305.40" },
        { name: "‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö‡∏≠‡∏∑‡πà‡∏ô", note: "", year2567: "840.72", year2566: "200,000.00" },
        { name: "‡∏£‡∏ß‡∏°‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö", isGrandTotal: true, year2567: "1,857,555.77", year2566: "1,953,161.00", color: "emerald" },
      ]
    },
    expense: {
      title: "‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢ (Expenses)",
      items: [
        { name: "‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢‡∏Ñ‡πà‡∏≤‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£", note: "7", year2567: "1,550,300.46", year2566: "1,528,320.00" },
        { name: "‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢‡∏Ñ‡πà‡∏≤‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏π‡∏õ‡πÇ‡∏†‡∏Ñ", note: "8", year2567: "96,009.43", year2566: "98,761.58" },
        { name: "‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô", note: "9", year2567: "17,100.00", year2566: "27,045.53" },
        { name: "‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢‡∏Ñ‡πà‡∏≤‡∏ã‡πà‡∏≠‡∏°‡πÅ‡∏ã‡∏°‡πÅ‡∏•‡∏∞‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤", note: "10", year2567: "170,547.83", year2566: "7,545.00" },
        { name: "‡∏£‡∏ß‡∏°‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢", isGrandTotal: true, year2567: "1,833,957.72", year2566: "1,661,672.11", color: "rose" },
      ]
    },
    net: {
      items: [
        { name: "‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤(‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤)‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢‡∏™‡∏∏‡∏ó‡∏ò‡∏¥", isGrandTotal: true, year2567: "23,598.05", year2566: "291,488.89", color: "blue" }
      ]
    }
  };

  // 3. ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏á‡∏ö (Notes) - ‡∏´‡∏ô‡πâ‡∏≤ 22-23
  const notesData = [
    {
      id: "7",
      title: "‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ 7: ‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢‡∏Ñ‡πà‡∏≤‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£",
      total2567: "1,550,300.46",
      items: [
        { name: "‡∏Ñ‡πà‡∏≤‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£", year2567: "256,800.00", year2566: "256,800.00" },
        { name: "‡∏Ñ‡πà‡∏≤‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢", year2567: "1,053,847.28", year2566: "1,027,200.00", highlight: true },
        { name: "‡∏Ñ‡πà‡∏≤‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÅ‡∏•‡∏∞‡∏Å‡∏ß‡∏≤‡∏î‡∏ñ‡∏ô‡∏ô", year2567: "235,333.18", year2566: "240,000.00" },
        { name: "‡∏Ñ‡πà‡∏≤‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡∏¢‡∏∞", year2567: "4,320.00", year2566: "4,320.00" },
      ]
    },
    {
      id: "10",
      title: "‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ 10: ‡∏Ñ‡πà‡∏≤‡∏ã‡πà‡∏≠‡∏°‡πÅ‡∏ã‡∏°‡πÅ‡∏•‡∏∞‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤",
      total2567: "170,547.83",
      items: [
        { name: "‡∏Ñ‡πà‡∏≤‡∏ã‡πà‡∏≠‡∏°‡πÅ‡∏ã‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á", year2567: "3,422.00", year2566: "2,810.00" },
        { name: "‡∏Ñ‡πà‡∏≤‡∏ã‡πà‡∏≠‡∏°‡πÅ‡∏ã‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏ü‡∏ü‡πâ‡∏≤", year2567: "-", year2566: "4,735.00" },
        { name: "‡∏Ñ‡πà‡∏≤‡∏ã‡πà‡∏≠‡∏°‡πÅ‡∏ã‡∏°‡∏á‡∏≤‡∏ô‡∏™‡∏ß‡∏ô‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏†‡∏π‡∏°‡∏¥‡∏ó‡∏±‡∏®‡∏ô‡πå", year2567: "165,609.33", year2566: "-", highlight: true },
        { name: "‡∏Ñ‡πà‡∏≤‡∏ã‡πà‡∏≠‡∏°‡πÅ‡∏ã‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏á‡∏à‡∏£‡∏õ‡∏¥‡∏î", year2567: "1,016.50", year2566: "-" },
        { name: "‡∏Ñ‡πà‡∏≤‡∏ã‡πà‡∏≠‡∏°‡πÅ‡∏ã‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡∏≠‡∏≠‡∏Å‡∏´‡∏°‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô", year2567: "500.00", year2566: "-" },
      ]
    },
    {
      id: "8",
      title: "‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ 8: ‡∏Ñ‡πà‡∏≤‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏π‡∏õ‡πÇ‡∏†‡∏Ñ",
      total2567: "96,009.43",
      items: [
        { name: "‡∏Ñ‡πà‡∏≤‡πÑ‡∏ü‡∏ü‡πâ‡∏≤", year2567: "66,484.91", year2566: "78,995.90" },
        { name: "‡∏Ñ‡πà‡∏≤‡∏ô‡πâ‡∏≥‡∏õ‡∏£‡∏∞‡∏õ‡∏≤", year2567: "20,549.36", year2566: "9,956.57" },
        { name: "‡∏Ñ‡πà‡∏≤‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡πÅ‡∏•‡∏∞‡∏≠‡∏¥‡∏ô‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï", year2567: "8,975.16", year2566: "9,809.11" },
      ]
    },
    {
        id: "6",
        title: "‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ 6: ‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢‡∏Ñ‡πâ‡∏≤‡∏á‡∏à‡πà‡∏≤‡∏¢ (‡∏´‡∏ô‡∏µ‡πâ‡∏™‡∏¥‡∏ô)",
        total2567: "21,163.70",
        items: [
          { name: "‡∏Ñ‡πà‡∏≤‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏Ñ‡πâ‡∏≤‡∏á‡∏à‡πà‡∏≤‡∏¢", year2567: "3,702.25", year2566: "5,097.84" },
          { name: "‡∏Ñ‡πà‡∏≤‡∏ô‡πâ‡∏≥‡∏õ‡∏£‡∏∞‡∏õ‡∏≤‡∏Ñ‡πâ‡∏≤‡∏á‡∏à‡πà‡∏≤‡∏¢", year2567: "1,745.60", year2566: "493.53" },
          { name: "‡∏Ñ‡πà‡∏≤‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡∏Ñ‡πâ‡∏≤‡∏á‡∏à‡πà‡∏≤‡∏¢", year2567: "747.93", year2566: "747.93" },
          { name: "‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡∏¢‡∏∞‡∏°‡∏π‡∏•‡∏ù‡∏≠‡∏¢‡∏Ñ‡πâ‡∏≤‡∏á‡∏à‡πà‡∏≤‡∏¢", year2567: "5,400.00", year2566: "1,080.00" },
          { name: "‡∏Ñ‡πà‡∏≤‡∏Ç‡∏ô‡∏¢‡πâ‡∏≤‡∏¢‡∏Ç‡∏¢‡∏∞‡∏°‡∏π‡∏•‡∏ù‡∏≠‡∏¢‡∏Ñ‡πâ‡∏≤‡∏á‡∏à‡πà‡∏≤‡∏¢", year2567: "500.00", year2566: "500.00" },
          { name: "‡∏Ñ‡πà‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏Ñ‡πâ‡∏≤‡∏á‡∏à‡πà‡∏≤‡∏¢", year2567: "6,000.00", year2566: "8,000.00" },
          { name: "‡∏†‡∏≤‡∏©‡∏µ‡πÄ‡∏á‡∏¥‡∏ô‡∏´‡∏±‡∏Å ‡∏ì ‡∏ó‡∏µ‡πà‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏≠‡∏ô‡∏≥‡∏™‡πà‡∏á", year2567: "3,067.92", year2566: "3,000.00" },
        ]
    }
  ];

  const TableRow = ({ item, colorTheme }) => {
    let rowClass = "border-b border-gray-100 hover:bg-gray-50 transition-colors";
    let nameClass = "py-3 px-4 text-gray-700";
    let numClass = "py-3 px-4 text-right font-medium text-gray-700 tabular-nums";
    
    if (item.isHeader) {
      return (
        <tr className="bg-gray-50/50">
          <td colSpan="4" className={`py-2 px-4 text-sm font-semibold ${colorTheme.text} italic`}>
            {item.name}
          </td>
        </tr>
      );
    }

    if (item.isTotal) {
      rowClass = `border-t-2 border-${colorTheme.border} bg-${colorTheme.bg} bg-opacity-10`;
      nameClass = `py-3 px-4 font-bold ${colorTheme.text}`;
      numClass = `py-3 px-4 text-right font-bold ${colorTheme.text} tabular-nums`;
    }

    if (item.isGrandTotal) {
      // Use dynamic color if specified in item, else fallback to theme
      const bgClass = item.color ? `bg-${item.color}-600` : `bg-${colorTheme.bg}`;
      rowClass = `${bgClass} text-white shadow-sm`;
      nameClass = "py-4 px-4 font-bold text-white";
      numClass = "py-4 px-4 text-right font-bold text-white tabular-nums text-lg";
    }

    return (
      <tr className={rowClass}>
        <td className={nameClass}>
            {item.name}
            {item.highlight && <span className="ml-2 inline-block px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded-full">‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</span>}
        </td>
        <td className="py-3 px-2 text-center text-gray-400 text-xs">{item.note}</td>
        <td className={numClass}>{item.year2567}</td>
        <td className={`${numClass} ${item.isGrandTotal ? 'text-white' : 'text-gray-500'}`}>{item.year2566}</td>
      </tr>
    );
  };

  const TabButton = ({ id, label, icon: Icon }) => (
    <button
      onClick={() => setActiveTab(id)}
      className={`flex-1 flex items-center justify-center gap-2 py-4 px-2 text-sm md:text-base font-medium transition-all border-b-4 ${
        activeTab === id 
          ? 'border-amber-500 text-amber-600 bg-amber-50' 
          : 'border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50'
      }`}
    >
      <Icon size={18} />
      <span>{label}</span>
    </button>
  );

  return (
    <div className="min-h-screen bg-gray-100 p-4 md:p-8 font-sans">
      <div className="max-w-4xl mx-auto bg-white rounded-2xl shadow-xl overflow-hidden flex flex-col min-h-[800px]">
        
        {/* Header Section */}
        <div className="bg-slate-800 text-white p-6 md:p-8 relative overflow-hidden flex-shrink-0">
          <div className="absolute top-0 right-0 p-4 opacity-10">
            <Building2 size={120} />
          </div>
          <div className="relative z-10">
            <div className="flex items-center gap-3 mb-2">
              <div className="w-2 h-8 bg-amber-500 rounded-full"></div>
              <h2 className="text-sm md:text-base text-amber-400 font-semibold tracking-wide uppercase">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô</h2>
            </div>
            <h1 className="text-xl md:text-2xl font-bold leading-tight mb-2">{headerData.orgName}</h1>
            <p className="text-sm text-gray-400 mt-1">{headerData.date}</p>
          </div>
        </div>

        {/* Tabs */}
        <div className="flex border-b border-gray-200 bg-white sticky top-0 z-20">
          <TabButton id="balance" label="‡∏á‡∏ö‡∏î‡∏∏‡∏•" icon={Wallet} />
          <TabButton id="income" label="‡∏á‡∏ö‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö-‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢" icon={Activity} />
          <TabButton id="notes" label="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î" icon={FileText} />
        </div>

        {/* Content Area */}
        <div className="flex-grow bg-white">
            
            {/* Currency Badge */}
            <div className="bg-gray-50 border-b border-gray-200 px-6 py-2 flex justify-end">
                <span className="text-xs font-semibold text-gray-500 bg-gray-200 px-2 py-1 rounded">
                {headerData.unit}
                </span>
            </div>

            {/* TAB: BALANCE SHEET */}
            {activeTab === 'balance' && (
                <div className="animate-in fade-in slide-in-from-bottom-4 duration-300">
                    <div className="p-6">
                        <div className="flex items-center gap-2 mb-4 text-emerald-700">
                            <Wallet className="w-6 h-6" />
                            <h2 className="text-xl font-bold">{balanceSheetData.assets.title}</h2>
                        </div>
                        <div className="overflow-x-auto rounded-lg border border-gray-200 mb-8">
                            <table className="w-full text-sm md:text-base">
                                <thead>
                                    <tr className="bg-emerald-50 text-emerald-800 border-b border-emerald-100">
                                        <th className="py-3 px-4 text-left w-5/12">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
                                        <th className="py-3 px-2 text-center w-1/12">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</th>
                                        <th className="py-3 px-4 text-right w-3/12">‡∏õ‡∏µ 2567</th>
                                        <th className="py-3 px-4 text-right w-3/12">‡∏õ‡∏µ 2566</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {balanceSheetData.assets.items.map((item, idx) => (
                                        <TableRow key={idx} item={item} colorTheme={{ text: 'text-emerald-700', bg: 'emerald-600', border: 'emerald-200' }} />
                                    ))}
                                </tbody>
                            </table>
                        </div>

                        <div className="flex items-center gap-2 mb-4 text-rose-700">
                            <CreditCard className="w-6 h-6" />
                            <h2 className="text-xl font-bold">{balanceSheetData.liabilities.title}</h2>
                        </div>
                        <div className="overflow-x-auto rounded-lg border border-gray-200 mb-8">
                            <table className="w-full text-sm md:text-base">
                                <thead>
                                    <tr className="bg-rose-50 text-rose-800 border-b border-rose-100">
                                        <th className="py-3 px-4 text-left w-5/12">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
                                        <th className="py-3 px-2 text-center w-1/12">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</th>
                                        <th className="py-3 px-4 text-right w-3/12">‡∏õ‡∏µ 2567</th>
                                        <th className="py-3 px-4 text-right w-3/12">‡∏õ‡∏µ 2566</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {balanceSheetData.liabilities.items.map((item, idx) => (
                                        <TableRow key={idx} item={item} colorTheme={{ text: 'text-rose-700', bg: 'rose-600', border: 'rose-200' }} />
                                    ))}
                                </tbody>
                            </table>
                        </div>

                         <div className="flex items-center gap-2 mb-4 text-blue-700">
                            <PieChart className="w-6 h-6" />
                            <h2 className="text-xl font-bold">{balanceSheetData.equity.title}</h2>
                        </div>
                        <div className="overflow-x-auto rounded-lg border border-gray-200">
                            <table className="w-full text-sm md:text-base">
                                <thead>
                                    <tr className="bg-blue-50 text-blue-800 border-b border-blue-100">
                                        <th className="py-3 px-4 text-left w-5/12">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
                                        <th className="py-3 px-2 text-center w-1/12">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</th>
                                        <th className="py-3 px-4 text-right w-3/12">‡∏õ‡∏µ 2567</th>
                                        <th className="py-3 px-4 text-right w-3/12">‡∏õ‡∏µ 2566</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {balanceSheetData.equity.items.map((item, idx) => (
                                        <TableRow key={idx} item={item} colorTheme={{ text: 'text-blue-700', bg: 'slate-800', border: 'blue-200' }} />
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            )}

            {/* TAB: INCOME STATEMENT */}
            {activeTab === 'income' && (
                <div className="animate-in fade-in slide-in-from-bottom-4 duration-300">
                    <div className="p-6">
                        <div className="mb-6 p-4 bg-amber-50 border border-amber-200 rounded-lg text-amber-800 text-sm">
                            <h3 className="font-bold mb-1">üí° ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô</h3>
                            <p>‡∏õ‡∏µ 2567 ‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢‡∏™‡∏∏‡∏ó‡∏ò‡∏¥ <span className="font-bold text-emerald-600">23,598.05 ‡∏ö‡∏≤‡∏ó</span> (‡∏•‡∏î‡∏•‡∏á‡∏à‡∏≤‡∏Å‡∏õ‡∏µ‡∏Å‡πà‡∏≠‡∏ô)</p>
                        </div>

                        <div className="flex items-center gap-2 mb-4 text-emerald-700">
                            <TrendingUp className="w-6 h-6" />
                            <h2 className="text-xl font-bold">{incomeStatementData.revenue.title}</h2>
                        </div>
                        <div className="overflow-x-auto rounded-lg border border-gray-200 mb-8">
                            <table className="w-full text-sm md:text-base">
                                <thead>
                                    <tr className="bg-emerald-50 text-emerald-800 border-b border-emerald-100">
                                        <th className="py-3 px-4 text-left w-5/12">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
                                        <th className="py-3 px-2 text-center w-1/12">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</th>
                                        <th className="py-3 px-4 text-right w-3/12">‡∏õ‡∏µ 2567</th>
                                        <th className="py-3 px-4 text-right w-3/12">‡∏õ‡∏µ 2566</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {incomeStatementData.revenue.items.map((item, idx) => (
                                        <TableRow key={idx} item={item} colorTheme={{ text: 'text-emerald-700', bg: 'emerald-600', border: 'emerald-200' }} />
                                    ))}
                                </tbody>
                            </table>
                        </div>

                        <div className="flex items-center gap-2 mb-4 text-rose-700">
                            <TrendingDown className="w-6 h-6" />
                            <h2 className="text-xl font-bold">{incomeStatementData.expense.title}</h2>
                        </div>
                        <div className="overflow-x-auto rounded-lg border border-gray-200 mb-8">
                            <table className="w-full text-sm md:text-base">
                                <thead>
                                    <tr className="bg-rose-50 text-rose-800 border-b border-rose-100">
                                        <th className="py-3 px-4 text-left w-5/12">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
                                        <th className="py-3 px-2 text-center w-1/12">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</th>
                                        <th className="py-3 px-4 text-right w-3/12">‡∏õ‡∏µ 2567</th>
                                        <th className="py-3 px-4 text-right w-3/12">‡∏õ‡∏µ 2566</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {incomeStatementData.expense.items.map((item, idx) => (
                                        <TableRow key={idx} item={item} colorTheme={{ text: 'text-rose-700', bg: 'rose-600', border: 'rose-200' }} />
                                    ))}
                                </tbody>
                            </table>
                        </div>

                         <div className="overflow-x-auto rounded-lg border border-gray-200 shadow-sm">
                            <table className="w-full text-sm md:text-base">
                                <tbody>
                                    {incomeStatementData.net.items.map((item, idx) => (
                                        <TableRow key={idx} item={item} colorTheme={{ text: 'text-blue-700', bg: 'blue-600', border: 'blue-200' }} />
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            )}

            {/* TAB: NOTES */}
            {activeTab === 'notes' && (
                <div className="animate-in fade-in slide-in-from-bottom-4 duration-300">
                    <div className="p-6 grid gap-8">
                        {notesData.map((note, idx) => (
                            <div key={idx} className="bg-white rounded-lg border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                                <div className="bg-gray-50 px-4 py-3 border-b border-gray-200 flex justify-between items-center">
                                    <h3 className="font-bold text-gray-800 flex items-center gap-2">
                                        <ChevronRight size={16} className="text-amber-500" />
                                        {note.title}
                                    </h3>
                                    <span className="text-sm font-semibold text-gray-600 bg-white px-2 py-1 rounded border border-gray-200">
                                        ‡∏£‡∏ß‡∏°: {note.total2567}
                                    </span>
                                </div>
                                <table className="w-full text-sm">
                                    <thead>
                                         <tr className="bg-gray-50/50 text-gray-500 text-xs uppercase tracking-wider">
                                            <th className="py-2 px-4 text-left">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
                                            <th className="py-2 px-4 text-right">‡∏õ‡∏µ 2567</th>
                                            <th className="py-2 px-4 text-right hidden md:table-cell">‡∏õ‡∏µ 2566</th>
                                        </tr>
                                    </thead>
                                    <tbody className="divide-y divide-gray-100">
                                        {note.items.map((subItem, sIdx) => (
                                            <tr key={sIdx} className="hover:bg-gray-50">
                                                <td className="py-2 px-4 text-gray-700">
                                                    {subItem.name}
                                                    {subItem.highlight && <span className="ml-2 text-[10px] bg-red-100 text-red-600 px-1.5 py-0.5 rounded">‡∏™‡∏π‡∏á</span>}
                                                </td>
                                                <td className="py-2 px-4 text-right font-medium text-gray-900">{subItem.year2567}</td>
                                                <td className="py-2 px-4 text-right text-gray-400 hidden md:table-cell">{subItem.year2566}</td>
                                            </tr>
                                        ))}
                                    </tbody>
                                </table>
                            </div>
                        ))}
                    </div>
                </div>
            )}
            
        </div>

        {/* Footer */}
        <div className="bg-gray-50 p-6 text-center border-t border-gray-200 mt-auto">
             <div className="flex justify-center items-center gap-2 mb-2">
                <p className="text-sm text-gray-500">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏á‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏á‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏ô‡∏µ‡πâ</p>
             </div>
             <p className="text-xs text-gray-400">‡∏Ç‡∏≠‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏ô‡∏¥‡∏ï‡∏¥‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏Ø)</p>
        </div>

      </div>
    </div>
  );
};

export default FinancialStatement;
